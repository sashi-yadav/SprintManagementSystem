<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<head>
<meta charset="UTF-8" />
<title>Sprint Management Console</title>
</head>
<body>
	<ui:include src="header.xhtml"></ui:include>

	<h:form>

		<h:outputLabel value="Name:"></h:outputLabel>
		<h:inputText value="#{taskBean.name}"></h:inputText>
		<h:outputLabel value="Description"></h:outputLabel>
		<h:inputTextarea value="#{taskBean.description}"></h:inputTextarea>
		<h:outputLabel value="Start Date"></h:outputLabel>
		<h:inputText a:type="date" value="#{taskBean.startDate}">
			<f:convertDateTime pattern="yyyy-MM-dd" />
		</h:inputText>
		<h:outputLabel value="Expected End Date"></h:outputLabel>
		<h:inputText a:type="date" value="#{taskBean.expectedEndDate}">
			<f:convertDateTime pattern="yyyy-MM-dd" />
		</h:inputText>
		

		<h:outputLabel value="Roles"></h:outputLabel>
		<h:selectOneMenu value="#{taskBean.roleId}">
			<f:selectItems value="#{taskBean.roles}" var="role"
				itemLabel="#{role.name}" itemValue="#{role.id}" />
		</h:selectOneMenu>
		<h:outputLabel value="Epics"></h:outputLabel>
		<h:selectOneMenu value="#{taskBean.epicId}">
			<f:selectItems value="#{taskBean.epics}" var="epic"
				itemLabel="#{epic.name}" itemValue="#{epic.id}" />
		</h:selectOneMenu>
		<h:commandButton action="#{taskBean.addTask}" value="Submit"></h:commandButton>
	</h:form>
	 <h:dataTable styleClass="table"
		rendered="#{userSession.roleId.id eq 3 or userSession.roleId.id eq 2}"
		value="#{taskBean.sprintTask}" var="tasks">
		<h:column>
			<f:facet name="header">Epic Name</f:facet>    				
      #{tasks.epicId.name}
   </h:column>
		<h:column>
			<f:facet name="header">Task Name</f:facet>    				
      #{tasks.typeDetailId.name}
   </h:column>
		<h:column>
			<f:facet name="header">Description</f:facet>    				
      #{tasks.typeDetailId.description}
   </h:column>
	</h:dataTable>


</body>
</html>